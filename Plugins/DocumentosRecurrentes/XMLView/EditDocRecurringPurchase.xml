<?xml version="1.0" encoding="UTF-8"?>
<!--
    This file is part of DocumentosRecurrentes plugin for FacturaScripts.
    FacturaScripts         Copyright (C) 2015-2021 Carlos Garcia Gomez <carlos@facturascripts.com>
    DocumentosRecurrentes  Copyright (C) 2020-2021 Jose Antonio Cuello Principal <yopli2000@gmail.com>

    Document   : docrecurrentes_purchase.xml
    Author     : Carlos Garcia Gomez    <carlos@facturascripts.com>
    Author     : Jose Antonio Cuello    <yopli2000@gmail.com>
    Description:
        View structure for EditDocRecurringPurchase.
-->
<view>
    <columns>
        <group name="data" numcolumns="12">
            <column name="code" numcolumns="1" display="none" order="100">
                <widget type="text" fieldname="id" required="true" readonly="true" />
            </column>
            <column name="description" numcolumns="5" order="110">
                <widget type="text" fieldname="name" icon="fas fa-tag" required="true" />
            </column>
            <column name="generate" numcolumns="3" order="120">
                <widget type="select" fieldname="generatedoc" translate="true" required="true">
                    <values title="supplier-estimation">PresupuestoProveedor</values>
                    <values title="supplier-order">PedidoProveedor</values>
                    <values title="supplier-delivery-note">AlbaranProveedor</values>
                    <values title="supplier-invoice">FacturaProveedor</values>
                </widget>
            </column>
            <column name="term-type" numcolumns="2" order="130">
                <widget type="select" fieldname="termtype" required="true" translate="true">
                    <values title="days">1</values>
                    <values title="weeks">2</values>
                    <values title="months">3</values>
                    <values title="manual">99</values>
                </widget>
            </column>
            <column name="quantity" description="quantity-type-desc" numcolumns="2" order="140">
                <widget type="number" decimal="0" min="1" fieldname="termunits" required="true" />
            </column>
            <column name="supplier" order="150">
                <widget type="autocomplete" fieldname="codproveedor" onclick="EditProveedor" required="true">
                    <values source="proveedores" fieldcode="codproveedor" fieldtitle="razonsocial" />
                </widget>
            </column>
            <column name="serie" order="160">
                <widget type="select" fieldname="codserie" onclick="EditSerie" required="true">
                    <values source="series" fieldcode="codserie" fieldtitle="descripcion" />
                </widget>
            </column>
            <column name="warehouse" description="warehouse-desc" order="170">
                <widget type="select" fieldname="codalmacen" onclick="EditAlmacen" required="true">
                    <values source="almacenes" fieldcode="codalmacen" fieldtitle="nombre" />
                </widget>
            </column>
            <column name="payment" title="method-payment" order="180">
                <widget type="select" fieldname="codpago" onclick="EditFormaPago" required="true">
                    <values source="formaspago" fieldcode="codpago" fieldtitle="descripcion" />
                </widget>
            </column>
            <column name="currency" order="190">
                <widget type="select" fieldname="coddivisa" onclick="EditDivisa" required="true">
                    <values source="divisas" fieldcode="coddivisa" fieldtitle="descripcion" />
                </widget>
            </column>
        </group>
        <group name="dates" numcolumns="12">
            <column name="start-date" numcolumns="3" order="100">
                <widget type="date" fieldname="startdate" required="true" />
            </column>
            <column name="end-date" numcolumns="3" order="110" description="empty-for-not-end">
                <widget type="date" fieldname="enddate" />
            </column>
            <column name="last-date" numcolumns="3" order="120">
                <widget type="date" fieldname="lastdate" readonly="true" />
            </column>
            <column name="next-date" numcolumns="3" order="130">
                <widget type="date" fieldname="nextdate" readonly="true" />
            </column>
            <column name="observations" numcolumns="12" order="140">
                <widget type="textarea" fieldname="notes" rows="2" />
            </column>
        </group>
    </columns>

    <rows>
        <row type="actions">
            <button type="modal" label="clone" color="info" action="duplicate-doc" icon="fas fa-clone" />
        </row>
    </rows>

    <modals>
        <group name="generate-manually" title="generate-doc" icon="fas fa-cogs">
            <column name="code" display="none" order="0">
                <widget type="text" fieldname="id" readonly="true" />
            </column>
            <column name="generatedate" title="Date-of-the-document" numcolumns="12" order="100">
                <widget type="date" fieldname="generatedate" required="true" />
            </column>
            <column name="supplier" title="supplier" description="supplier-target-desc" order="110">
                <widget type="autocomplete" fieldname="target">
                    <values source="proveedores" fieldcode="codproveedor" fieldtitle="razonsocial" />
                </widget>
            </column>
        </group>
        <group name="duplicate-doc" title="clone" icon="far fa-clone">
            <column name="code" display="none" order="0">
                <widget type="text" fieldname="id" readonly="true" />
            </column>
            <column name="description" title="description" numcolumns="12" order="100">
                <widget type="text" fieldname="name" icon="fas fa-tag" required="true" />
            </column>
            <column name="supplier" title="supplier" order="150">
                <widget type="autocomplete" fieldname="target" required="true">
                    <values source="proveedores" fieldcode="codproveedor" fieldtitle="razonsocial" />
                </widget>
            </column>
        </group>
    </modals>
</view>